(()=>{var e,r={19246:e=>{function r(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=19246,e.exports=r},35358:(e,r,t)=>{var o={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":60301,"./ar-sa.js":60301,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function i(e){var r=n(e);return t(r)}function n(e){if(!t.o(o,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=n,e.exports=i,i.id=35358},34760:e=>{function r(e){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=34760,e.exports=r},74105:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.app=void 0;const n=i(t(26083)),d=i(t(80998)),a=i(t(19728)),c=t(53790),s=t(81395),u=t(23720),l=t(47389),v=t(26083);d.default.config();const h=process.env.PORT||5e3;r.app=(0,n.default)(),r.app.use((0,a.default)()),r.app.use(n.default.json());const p=(0,v.Router)();p.use("/api",u.router),r.app.use(p),s.MovieDB,s.ParticipantDB,s.StudioDB,s.RewardDB,s.GenreDB,s.UserDB,s.CommentDB,r.app.use(l.errorHandling),r.app.get("/",((e,r)=>{r.status(200).json({message:"i am working"})}));const y=r.app.listen(h,(()=>console.log(`Server ${h}`)));r.default=()=>o(void 0,void 0,void 0,(function*(){try{return yield c.sequelize.authenticate(),yield c.sequelize.sync(),y}catch(e){console.log(e)}}))},44539:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Comment=void 0,r.Comment=class{constructor(e,r,t,o,i){this.id=e,this.content=r,this.date=t,this.movie_id=o,this.user_id=i}}},62359:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Genre=void 0,r.Genre=class{constructor(e,r,t){this.id=e,this.name=r,this.description=t}}},67491:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Movie=void 0,r.Movie=class{constructor(e,r,t,o,i,n,d){this.id=e,this.name=r,this.description=t,this.country=o,this.release=i,this.photo=n,this.trailer=d}}},80627:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Participant=void 0,r.Participant=class{constructor(e,r,t,o,i,n){this.id=e,this.name=r,this.surname=t,this.birth=o,this.death=i,this.photo=n}}},9382:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MovieGenre=void 0,r.MovieGenre=class{constructor(e,r,t){this.id=e,this.movie_id=r,this.genre_id=t}}},10076:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MovieParticipant=void 0,r.MovieParticipant=class{constructor(e,r,t,o){this.id=e,this.movie_id=r,this.participant_id=t,this.role=o}}},2342:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MovieReward=void 0,r.MovieReward=class{constructor(e,r,t){this.id=e,this.movie_id=r,this.reward_id=t}}},17847:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MovieStudio=void 0,r.MovieStudio=class{constructor(e,r,t){this.id=e,this.movie_id=r,this.studio_id=t}}},74754:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MovieUser=void 0,r.MovieUser=class{constructor(e,r,t,o){this.id=e,this.movie_id=r,this.user_id=t,this.mark=o}}},60591:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParticipantReward=void 0,r.ParticipantReward=class{constructor(e,r,t){this.id=e,this.participant_id=r,this.reward_id=t}}},12407:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Reward=void 0,r.Reward=class{constructor(e,r,t,o){this.id=e,this.name=r,this.description=t,this.photo=o}}},70289:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Studio=void 0,r.Studio=class{constructor(e,r,t,o,i,n){this.id=e,this.name=r,this.founder=t,this.country=o,this.foundation=i,this.photo=n}}},61763:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0,r.User=class{constructor(e,r,t,o,i,n,d){this.id=e,this.name=r,this.surname=t,this.registration=o,this.login=i,this.password=n,this.role=d}}},55740:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateCommentDto=r.AddCommentDto=r.CommentDto=void 0;class t{constructor(e,r){this.content=e,this.date=r}}r.CommentDto=t,r.AddCommentDto=class extends t{constructor(e,r,t){super(e.content,e.date),this.movie_id=r,this.user_id=t}},r.UpdateCommentDto=class extends t{constructor(e){super(e.content,e.date)}}},11125:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.commentRepositorySQL=void 0;const i=t(44539),n=t(81395);r.commentRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.CommentDB.findByPk(e);if(r){const e=r.toJSON();return new i.Comment(e.id,e.content,e.date,e.movie_id,e.user_id)}return null}catch(e){throw console.error("Error occurred while getting comment by ID:",e),new Error("Failed to get comment by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.CommentDB.findAll()).map((e=>e.toJSON())).map((e=>new i.Comment(e.id,e.content,e.date,e.movie_id,e.user_id)))}catch(e){throw console.error("Error occurred while getting all comments:",e),new Error("Failed to get all comments")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{content:r,date:t,movie_id:o,user_id:d}=e,a=(yield n.CommentDB.create({content:r,date:t,movie_id:o,user_id:d})).toJSON();return new i.Comment(a.id,a.content,a.date,a.movie_id,a.user_id)}catch(e){throw console.error("Error occurred while adding comment:",e),new Error("Failed to add comment")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.CommentDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting comment:",e),new Error("Failed to delete comment")}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.CommentDB.findAll({where:{movie_id:e}})).map((e=>e.toJSON())).map((e=>new i.Comment(e.id,e.content,e.date,e.movie_id,e.user_id)))}catch(e){throw console.error("Error occurred while getting comments by movie ID:",e),new Error("Failed to get comments by movie ID")}}))}getByUserId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.CommentDB.findAll({where:{user_id:e}})).map((e=>e.toJSON())).map((e=>new i.Comment(e.id,e.content,e.date,e.movie_id,e.user_id)))}catch(e){throw console.error("Error occurred while getting comments by movie ID:",e),new Error("Failed to get comments by movie ID")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.CommentDB.findByPk(r)))throw new Error("Comment not found");yield n.CommentDB.update(e,{where:{id:r}});const t=yield n.CommentDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.Comment(o.id,o.content,o.date,o.movie_id,o.user_id)}catch(e){throw console.error("Error occurred while updating comment:",e),new Error("Failed to update comment")}}))}}},85740:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateGenreDto=r.AddGenreDto=r.GenreDto=void 0;class t{constructor(e,r){this.name=e,this.description=r}}r.GenreDto=t,r.AddGenreDto=class extends t{constructor(e){super(e.name,e.description)}},r.UpdateGenreDto=class extends t{constructor(e){super(e.name,e.description)}}},72997:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.genreRepositorySQL=void 0;const i=t(62359),n=t(81395),d=t(45225);r.genreRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.GenreDB.findByPk(e);if(r){const e=r.toJSON();return new i.Genre(e.id,e.name,e.description)}return null}catch(e){throw console.error("Error occurred while getting genre by ID:",e),new Error("Failed to get genre by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.GenreDB.findAll()).map((e=>e.toJSON())).map((e=>new i.Genre(e.id,e.name,e.description)))}catch(e){throw console.error("Error occurred while getting all genres:",e),new Error("Failed to get all genres")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{name:r,description:t}=e,o=(yield n.GenreDB.create({name:r,description:t})).toJSON();return new i.Genre(o.id,o.name,o.description)}catch(e){throw console.error("Error occurred while adding genre:",e),new Error("Failed to add genre")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.GenreDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting genre:",e),new Error("Failed to delete genre")}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.GenreDB.findOne({where:d.Sequelize.literal(`LOWER(name) = LOWER('${e}')`)});if(r){const e=r.toJSON();return new i.Genre(e.id,e.name,e.description)}return null}catch(e){throw console.error("Error occurred while getting genre by name:",e),new Error("Failed to get genre by name")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.GenreDB.findByPk(r)))throw new Error("Genre not found");yield n.GenreDB.update(e,{where:{id:r}});const t=yield n.GenreDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.Genre(o.id,o.name,o.description)}catch(e){throw console.error("Error occurred while updating genre:",e),new Error("Failed to update genre")}}))}}},744:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateMovieDto=r.AddMovieDto=r.MovieDto=void 0;class t{constructor(e,r,t,o,i,n){this.name=e,this.description=r,this.country=t,this.release=o,this.photo=i,this.trailer=n}}r.MovieDto=t,r.AddMovieDto=class extends t{constructor(e){super(e.name,e.description,e.country,e.release,e.photo,e.trailer)}},r.UpdateMovieDto=class extends t{constructor(e){super(e.name,e.description,e.country,e.release,e.photo,e.trailer)}}},94241:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.movieRepositorySQL=void 0;const i=t(67491),n=t(81395),d=t(45225);r.movieRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieDB.findByPk(e);if(r){const e=r.toJSON();return new i.Movie(e.id,e.name,e.description,e.country,e.release,e.photo,e.trailer)}return null}catch(e){throw console.error("Error occurred while getting movie by ID:",e),new Error("Failed to get movie by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieDB.findAll()).map((e=>e.toJSON())).map((e=>new i.Movie(e.id,e.name,e.description,e.country,e.release,e.photo,e.trailer)))}catch(e){throw console.error("Error occurred while getting all movies:",e),new Error("Failed to get all movies")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{name:r,description:t,country:o,release:d,photo:a,trailer:c}=e,s=(yield n.MovieDB.create({name:r,description:t,country:o,release:d,photo:a,trailer:c})).toJSON();return new i.Movie(s.id,s.name,s.description,s.country,s.release,s.photo,s.trailer)}catch(e){throw console.error("Error occurred while adding movie:",e),new Error("Failed to add movie")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.MovieDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting movie:",e),new Error("Failed to delete movie")}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieDB.findOne({where:d.Sequelize.literal(`LOWER(name) = LOWER('${e}')`)});if(r){const e=r.toJSON();return new i.Movie(e.id,e.name,e.description,e.country,e.release,e.photo,e.trailer)}return null}catch(e){throw console.error("Error occurred while getting movie by name:",e),new Error("Failed to get movie by name")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.MovieDB.findByPk(r)))throw new Error("Movie not found");yield n.MovieDB.update(e,{where:{id:r}});const t=yield n.MovieDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.Movie(o.id,o.name,o.description,o.country,o.release,o.photo,o.trailer)}catch(e){throw console.error("Error occurred while updating movie:",e),new Error("Failed to update movie")}}))}}},75820:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateParticipantDto=r.AddParticipantDto=r.ParticipantDto=void 0;class t{constructor(e,r,t,o,i){this.name=e,this.surname=r,this.birth=t,this.death=o,this.photo=i}}r.ParticipantDto=t,r.AddParticipantDto=class extends t{constructor(e){super(e.name,e.surname,e.birth,e.death,e.photo)}},r.UpdateParticipantDto=class extends t{constructor(e){super(e.name,e.surname,e.birth,e.death,e.photo)}}},50181:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.participantRepositorySQL=r.ParticipantRepositorySQL=void 0;const i=t(80627),n=t(81395),d=t(45225);class a{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.ParticipantDB.findByPk(e);if(r){const e=r.toJSON();return new i.Participant(e.id,e.name,e.surname,e.birth,e.death,e.photo)}return null}catch(e){throw console.error("Error occurred while getting participant by ID:",e),new Error("Failed to get participant by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.ParticipantDB.findAll()).map((e=>e.toJSON())).map((e=>new i.Participant(e.id,e.name,e.surname,e.birth,e.death,e.photo)))}catch(e){throw console.error("Error occurred while getting all participants:",e),new Error("Failed to get all participants")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{name:r,surname:t,birth:o,death:d,photo:a}=e,c=(yield n.ParticipantDB.create({name:r,surname:t,birth:o,death:d,photo:a})).toJSON();return new i.Participant(c.id,c.name,c.surname,c.birth,c.death,c.photo)}catch(e){throw console.error("Error occurred while adding participant:",e),new Error("Failed to add participant")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.ParticipantDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting participant:",e),new Error("Failed to delete participant")}}))}getByNameSurname(e,r){return o(this,void 0,void 0,(function*(){try{const t=yield n.ParticipantDB.findOne({where:d.Sequelize.literal(`LOWER(name) = LOWER('${e}') AND LOWER(surname) = LOWER('${r}')`)});if(t){const e=t.toJSON();return new i.Participant(e.id,e.name,e.surname,e.birth,e.death,e.photo)}return null}catch(e){throw console.error("Error occurred while getting participant by name and surname:",e),new Error("Failed to get participant by name and surname")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.ParticipantDB.findByPk(r)))throw new Error("Participant not found");yield n.ParticipantDB.update(e,{where:{id:r}});const t=yield n.ParticipantDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.Participant(o.id,o.name,o.surname,o.birth,o.death,o.photo)}catch(e){throw console.error("Error occurred while updating participant:",e),new Error("Failed to update participant")}}))}}r.ParticipantRepositorySQL=a,r.participantRepositorySQL=new a},94879:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AddMovieGenreDto=r.MovieGenreDto=void 0;class t{constructor(e,r){this.movie_id=e,this.genre_id=r}}r.MovieGenreDto=t,r.AddMovieGenreDto=class extends t{constructor(e){super(e.movie_id,e.genre_id)}}},73860:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.movieGenreRepositorySQL=void 0;const i=t(9382),n=t(81395);r.movieGenreRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieGenreDB.findByPk(e);if(r){const e=r.toJSON();return new i.MovieGenre(e.id,e.movie_id,e.genre_id)}return null}catch(e){throw console.error("Error occurred while getting movieGenre by ID:",e),new Error("Failed to get movieGenre by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieGenreDB.findAll()).map((e=>e.toJSON())).map((e=>new i.MovieGenre(e.id,e.movie_id,e.genre_id)))}catch(e){throw console.error("Error occurred while getting all movieGenres:",e),new Error("Failed to get all movieGenres")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{movie_id:r,genre_id:t}=e,o=(yield n.MovieGenreDB.create({movie_id:r,genre_id:t})).toJSON();return new i.MovieGenre(o.id,o.movie_id,o.genre_id)}catch(e){throw console.error("Error occurred while adding movieGenre:",e),new Error("Failed to add movieGenre")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.MovieGenreDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting movieGenre:",e),new Error("Failed to delete movieGenre")}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieGenreDB.findAll({where:{movie_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieGenre(e.id,e.movie_id,e.genre_id)))}catch(e){throw console.error("Error occurred while getting movieGenres by movie ID:",e),new Error("Failed to get movieGenres by movie ID")}}))}getByGenreId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieGenreDB.findAll({where:{genre_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieGenre(e.id,e.movie_id,e.genre_id)))}catch(e){throw console.error("Error occurred while getting movieGenres by movie ID:",e),new Error("Failed to get movieGenres by movie ID")}}))}}},9077:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateMovieParticipantDto=r.AddMovieParticipantDto=r.MovieParticipantDto=void 0;class t{constructor(e){this.role=e}}r.MovieParticipantDto=t,r.AddMovieParticipantDto=class extends t{constructor(e,r,t){super(e.role),this.movie_id=r,this.participant_id=t}},r.UpdateMovieParticipantDto=class extends t{constructor(e){super(e.role)}}},49102:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.movieParticipantRepositorySQL=void 0;const i=t(10076),n=t(81395);r.movieParticipantRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieParticipantDB.findByPk(e);if(r){const e=r.toJSON();return new i.MovieParticipant(e.id,e.movie_id,e.participant_id,e.role)}return null}catch(e){throw console.error("Error occurred while getting movieParticipant by ID:",e),new Error("Failed to get movieParticipant by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieParticipantDB.findAll()).map((e=>e.toJSON())).map((e=>new i.MovieParticipant(e.id,e.movie_id,e.participant_id,e.role)))}catch(e){throw console.error("Error occurred while getting all movieParticipants:",e),new Error("Failed to get all movieParticipants")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{movie_id:r,participant_id:t,role:o}=e,d=(yield n.MovieParticipantDB.create({movie_id:r,participant_id:t,role:o})).toJSON();return new i.MovieParticipant(d.id,d.movie_id,d.participant_id,d.role)}catch(e){throw console.error("Error occurred while adding movieParticipant:",e),new Error("Failed to add movieParticipant")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.MovieParticipantDB.findByPk(r)))throw new Error("MovieParticipant not found");yield n.MovieParticipantDB.update(e,{where:{id:r}});const t=yield n.MovieParticipantDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.MovieParticipant(o.id,o.movie_id,o.participant_id,o.role)}catch(e){throw console.error("Error occurred while updating movieParticipant:",e),new Error("Failed to update movieParticipant")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.MovieParticipantDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting movieParticipant:",e),new Error("Failed to delete movieParticipant")}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieParticipantDB.findAll({where:{movie_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieParticipant(e.id,e.movie_id,e.participant_id,e.role)))}catch(e){throw console.error("Error occurred while getting movieParticipants by movie ID:",e),new Error("Failed to get movieParticipants by movie ID")}}))}getByParticipantId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieParticipantDB.findAll({where:{movieParticipant_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieParticipant(e.id,e.movie_id,e.participant_id,e.role)))}catch(e){throw console.error("Error occurred while getting movieParticipants by movie ID:",e),new Error("Failed to get movieParticipants by movie ID")}}))}}},28451:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AddMovieRewardDto=r.MovieRewardDto=void 0;class t{constructor(e,r){this.movie_id=e,this.reward_id=r}}r.MovieRewardDto=t,r.AddMovieRewardDto=class extends t{constructor(e){super(e.movie_id,e.reward_id)}}},26360:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.movieRewardRepositorySQL=void 0;const i=t(2342),n=t(81395);r.movieRewardRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieRewardDB.findByPk(e);if(r){const e=r.toJSON();return new i.MovieReward(e.id,e.movie_id,e.reward_id)}return null}catch(e){throw console.error("Error occurred while getting movieReward by ID:",e),new Error("Failed to get movieReward by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieRewardDB.findAll()).map((e=>e.toJSON())).map((e=>new i.MovieReward(e.id,e.movie_id,e.reward_id)))}catch(e){throw console.error("Error occurred while getting all movieRewards:",e),new Error("Failed to get all movieRewards")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{movie_id:r,reward_id:t}=e,o=(yield n.MovieRewardDB.create({movie_id:r,reward_id:t})).toJSON();return new i.MovieReward(o.id,o.movie_id,o.reward_id)}catch(e){throw console.error("Error occurred while adding movieReward:",e),new Error("Failed to add movieReward")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.MovieRewardDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting movieReward:",e),new Error("Failed to delete movieReward")}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieRewardDB.findAll({where:{movie_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieReward(e.id,e.movie_id,e.reward_id)))}catch(e){throw console.error("Error occurred while getting movieRewards by movie ID:",e),new Error("Failed to get movieRewards by movie ID")}}))}getByRewardId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieRewardDB.findAll({where:{reward_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieReward(e.id,e.movie_id,e.reward_id)))}catch(e){throw console.error("Error occurred while getting movieRewards by movie ID:",e),new Error("Failed to get movieRewards by movie ID")}}))}}},17384:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AddMovieStudioDto=r.MovieStudioDto=void 0;class t{constructor(e,r){this.movie_id=e,this.studio_id=r}}r.MovieStudioDto=t,r.AddMovieStudioDto=class extends t{constructor(e){super(e.movie_id,e.studio_id)}}},97761:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.movieStudioRepositorySQL=void 0;const i=t(17847),n=t(81395);r.movieStudioRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieStudioDB.findByPk(e);if(r){const e=r.toJSON();return new i.MovieStudio(e.id,e.movie_id,e.studio_id)}return null}catch(e){throw console.error("Error occurred while getting movieStudio by ID:",e),new Error("Failed to get movieStudio by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieStudioDB.findAll()).map((e=>e.toJSON())).map((e=>new i.MovieStudio(e.id,e.movie_id,e.studio_id)))}catch(e){throw console.error("Error occurred while getting all movieStudios:",e),new Error("Failed to get all movieStudios")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{movie_id:r,studio_id:t}=e,o=(yield n.MovieStudioDB.create({movie_id:r,studio_id:t})).toJSON();return new i.MovieStudio(o.id,o.movie_id,o.studio_id)}catch(e){throw console.error("Error occurred while adding movieStudio:",e),new Error("Failed to add movieStudio")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.MovieStudioDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting movieStudio:",e),new Error("Failed to delete movieStudio")}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieStudioDB.findAll({where:{movie_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieStudio(e.id,e.movie_id,e.studio_id)))}catch(e){throw console.error("Error occurred while getting movieStudios by movie ID:",e),new Error("Failed to get movieStudios by movie ID")}}))}getByStudioId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieStudioDB.findAll({where:{studio_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieStudio(e.id,e.movie_id,e.studio_id)))}catch(e){throw console.error("Error occurred while getting movieStudios by movie ID:",e),new Error("Failed to get movieStudios by movie ID")}}))}}},25139:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateMovieUserDto=r.AddMovieUserDto=r.MovieUserDto=void 0;class t{constructor(e){this.mark=e}}r.MovieUserDto=t,r.AddMovieUserDto=class extends t{constructor(e,r,t){super(e.mark),this.movie_id=r,this.user_id=t}},r.UpdateMovieUserDto=class extends t{constructor(e){super(e.mark)}}},77608:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.movieUserRepositorySQL=void 0;const i=t(74754),n=t(81395);r.movieUserRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.MovieUserDB.findByPk(e);if(r){const e=r.toJSON();return new i.MovieUser(e.id,e.movie_id,e.user_id,e.mark)}return null}catch(e){throw console.error("Error occurred while getting movieUser by ID:",e),new Error("Failed to get movieUser by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieUserDB.findAll()).map((e=>e.toJSON())).map((e=>new i.MovieUser(e.id,e.movie_id,e.user_id,e.mark)))}catch(e){throw console.error("Error occurred while getting all movieUsers:",e),new Error("Failed to get all movieUsers")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{movie_id:r,user_id:t,mark:o}=e,d=(yield n.MovieUserDB.create({movie_id:r,user_id:t,mark:o})).toJSON();return new i.MovieUser(d.id,d.movie_id,d.user_id,d.mark)}catch(e){throw console.error("Error occurred while adding movieUser:",e),new Error("Failed to add movieUser")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.MovieUserDB.findByPk(r)))throw new Error("MovieUser not found");yield n.MovieUserDB.update(e,{where:{id:r}});const t=yield n.MovieUserDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.MovieUser(o.id,o.movie_id,o.user_id,o.mark)}catch(e){throw console.error("Error occurred while updating movieUser:",e),new Error("Failed to update movieUser")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.MovieUserDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting movieUser:",e),new Error("Failed to delete movieUser")}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieUserDB.findAll({where:{movie_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieUser(e.id,e.movie_id,e.user_id,e.mark)))}catch(e){throw console.error("Error occurred while getting movieUsers by movie ID:",e),new Error("Failed to get movieUsers by movie ID")}}))}getByUserId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.MovieUserDB.findAll({where:{movieUser_id:e}})).map((e=>e.toJSON())).map((e=>new i.MovieUser(e.id,e.movie_id,e.user_id,e.mark)))}catch(e){throw console.error("Error occurred while getting movieUsers by movie ID:",e),new Error("Failed to get movieUsers by movie ID")}}))}}},87536:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AddParticipantRewardDto=r.ParticipantRewardDto=void 0;class t{constructor(e,r){this.participant_id=e,this.reward_id=r}}r.ParticipantRewardDto=t,r.AddParticipantRewardDto=class extends t{constructor(e){super(e.participant_id,e.reward_id)}}},57577:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.participantRewardRepositorySQL=void 0;const i=t(60591),n=t(81395);r.participantRewardRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.ParticipantRewardDB.findByPk(e);if(r){const e=r.toJSON();return new i.ParticipantReward(e.id,e.participant_id,e.reward_id)}return null}catch(e){throw console.error("Error occurred while getting participantReward by ID:",e),new Error("Failed to get participantReward by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.ParticipantRewardDB.findAll()).map((e=>e.toJSON())).map((e=>new i.ParticipantReward(e.id,e.participant_id,e.reward_id)))}catch(e){throw console.error("Error occurred while getting all participantRewards:",e),new Error("Failed to get all participantRewards")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{participant_id:r,reward_id:t}=e,o=(yield n.ParticipantRewardDB.create({participant_id:r,reward_id:t})).toJSON();return new i.ParticipantReward(o.id,o.participant_id,o.reward_id)}catch(e){throw console.error("Error occurred while adding participantReward:",e),new Error("Failed to add participantReward")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.ParticipantRewardDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting participantReward:",e),new Error("Failed to delete participantReward")}}))}getByParticipantId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.ParticipantRewardDB.findAll({where:{participant_id:e}})).map((e=>e.toJSON())).map((e=>new i.ParticipantReward(e.id,e.participant_id,e.reward_id)))}catch(e){throw console.error("Error occurred while getting participantRewards by participant ID:",e),new Error("Failed to get participantRewards by participant ID")}}))}getByRewardId(e){return o(this,void 0,void 0,(function*(){try{return(yield n.ParticipantRewardDB.findAll({where:{reward_id:e}})).map((e=>e.toJSON())).map((e=>new i.ParticipantReward(e.id,e.participant_id,e.reward_id)))}catch(e){throw console.error("Error occurred while getting participantRewards by participant ID:",e),new Error("Failed to get participantRewards by participant ID")}}))}}},26304:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateRewardDto=r.AddRewardDto=r.RewardDto=void 0;class t{constructor(e,r,t){this.name=e,this.description=r,this.photo=t}}r.RewardDto=t,r.AddRewardDto=class extends t{constructor(e){super(e.name,e.description,e.photo)}},r.UpdateRewardDto=class extends t{constructor(e){super(e.name,e.description,e.photo)}}},95353:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.rewardRepositorySQL=void 0;const i=t(12407),n=t(81395),d=t(45225);r.rewardRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.RewardDB.findByPk(e);if(r){const e=r.toJSON();return new i.Reward(e.id,e.name,e.description,e.photo)}return null}catch(e){throw console.error("Error occurred while getting reward by ID:",e),new Error("Failed to get reward by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.RewardDB.findAll()).map((e=>e.toJSON())).map((e=>new i.Reward(e.id,e.name,e.description,e.photo)))}catch(e){throw console.error("Error occurred while getting all rewards:",e),new Error("Failed to get all rewards")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{name:r,description:t,photo:o}=e,d=(yield n.RewardDB.create({name:r,description:t,photo:o})).toJSON();return new i.Reward(d.id,d.name,d.description,d.photo)}catch(e){throw console.error("Error occurred while adding reward:",e),new Error("Failed to add reward")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.RewardDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting reward:",e),new Error("Failed to delete reward")}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.RewardDB.findOne({where:d.Sequelize.literal(`LOWER(name) = LOWER('${e}')`)});if(r){const e=r.toJSON();return new i.Reward(e.id,e.name,e.description,e.photo)}return null}catch(e){throw console.error("Error occurred while getting reward by name:",e),new Error("Failed to get reward by name")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.RewardDB.findByPk(r)))throw new Error("Reward not found");yield n.RewardDB.update(e,{where:{id:r}});const t=yield n.RewardDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.Reward(o.id,o.name,o.description,o.photo)}catch(e){throw console.error("Error occurred while updating reward:",e),new Error("Failed to update reward")}}))}}},79302:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateStudioDto=r.AddStudioDto=r.StudioDto=void 0;class t{constructor(e,r,t,o,i){this.name=e,this.founder=r,this.country=t,this.foundation=o,this.photo=i}}r.StudioDto=t,r.AddStudioDto=class extends t{constructor(e){super(e.name,e.founder,e.country,e.foundation,e.photo)}},r.UpdateStudioDto=class extends t{constructor(e){super(e.name,e.founder,e.country,e.foundation,e.photo)}}},48403:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.studioRepositorySQL=void 0;const i=t(70289),n=t(81395),d=t(45225);r.studioRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.StudioDB.findByPk(e);if(r){const e=r.toJSON();return new i.Studio(e.id,e.name,e.founder,e.country,e.foundation,e.photo)}return null}catch(e){throw console.error("Error occurred while getting studio by ID:",e),new Error("Failed to get studio by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.StudioDB.findAll()).map((e=>e.toJSON())).map((e=>new i.Studio(e.id,e.name,e.founder,e.country,e.foundation,e.photo)))}catch(e){throw console.error("Error occurred while getting all studios:",e),new Error("Failed to get all studios")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{name:r,founder:t,country:o,foundation:d,photo:a}=e,c=(yield n.StudioDB.create({name:r,founder:t,country:o,foundation:d,photo:a})).toJSON();return new i.Studio(c.id,c.name,c.founder,c.country,c.foundation,c.photo)}catch(e){throw console.error("Error occurred while adding studio:",e),new Error("Failed to add studio")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.StudioDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting studio:",e),new Error("Failed to delete studio")}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.StudioDB.findOne({where:d.Sequelize.literal(`LOWER(name) = LOWER('${e}')`)});if(r){const e=r.toJSON();return new i.Studio(e.id,e.name,e.founder,e.country,e.foundation,e.photo)}return null}catch(e){throw console.error("Error occurred while getting studio by name:",e),new Error("Failed to get studio by name")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.StudioDB.findByPk(r)))throw new Error("Studio not found");yield n.StudioDB.update(e,{where:{id:r}});const t=yield n.StudioDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.Studio(o.id,o.name,o.founder,o.country,o.foundation,o.photo)}catch(e){throw console.error("Error occurred while updating studio:",e),new Error("Failed to update studio")}}))}}},17772:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UpdateUserDto=r.AddUserDto=r.UserDto=void 0;class t{constructor(e,r){this.name=e,this.surname=r}}r.UserDto=t,r.AddUserDto=class extends t{constructor(e,r,t,o,i){super(e.name,e.surname),this.login=t,this.password=o,this.role=i,this.registration=r}},r.UpdateUserDto=class extends t{constructor(e){super(e.name,e.surname)}}},21445:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.userRepositorySQL=void 0;const i=t(61763),n=t(81395);r.userRepositorySQL=new class{getById(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.UserDB.findByPk(e);if(r){const e=r.toJSON();return new i.User(e.id,e.name,e.surname,e.registration,e.login,e.password,e.role)}return null}catch(e){throw console.error("Error occurred while getting user by ID:",e),new Error("Failed to get user by ID")}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return(yield n.UserDB.findAll()).map((e=>e.toJSON())).map((e=>new i.User(e.id,e.name,e.surname,e.registration,e.login,e.password,e.role)))}catch(e){throw console.error("Error occurred while getting all users:",e),new Error("Failed to get all users")}}))}add(e){return o(this,void 0,void 0,(function*(){try{const{name:r,surname:t,registration:o,login:d,password:a,role:c}=e,s=(yield n.UserDB.create({name:r,surname:t,registration:o,login:d,password:a,role:c})).toJSON();return new i.User(s.id,s.name,s.surname,s.registration,s.login,s.password,s.role)}catch(e){throw console.error("Error occurred while adding user:",e),new Error("Failed to add user")}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield n.UserDB.destroy({where:{id:e}})}catch(e){throw console.error("Error occurred while deleting user:",e),new Error("Failed to delete user")}}))}getByLogin(e){return o(this,void 0,void 0,(function*(){try{const r=yield n.UserDB.findOne({where:{login:e}});if(r){const e=r.toJSON();return new i.User(e.id,e.name,e.surname,e.registration,e.login,e.password,e.role)}return null}catch(e){throw console.error("Error occurred while getting user by login:",e),new Error("Failed to get user by login")}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{if(!(yield n.UserDB.findByPk(r)))throw new Error("User not found");yield n.UserDB.update(e,{where:{id:r}});const t=yield n.UserDB.findByPk(r),o=null==t?void 0:t.toJSON();return new i.User(o.id,o.name,o.surname,o.registration,o.login,o.password,o.role)}catch(e){throw console.error("Error occurred while updating user:",e),new Error("Failed to update user")}}))}}},18173:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.CommentService=r.commentService=void 0;const i=t(11125);class n{constructor(e){this.commentRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.commentRepository.getById(e)}catch(e){return console.error(`Error getting comment by id: ${e}`),null}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return yield this.commentRepository.getByMovieId(e)}catch(e){return console.error(`Error getting comments by movie_id: ${e}`),null}}))}getByUserId(e){return o(this,void 0,void 0,(function*(){try{return yield this.commentRepository.getByUserId(e)}catch(e){return console.error(`Error getting comments by user_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.commentRepository.getAll()}catch(e){return console.error(`Error getting all comments: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.commentRepository.add(e)}catch(e){return console.error(`Error adding comment: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.commentRepository.update(e,r)}catch(e){return console.error(`Error updating comment: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.commentRepository.delete(e)}catch(e){return console.error(`Error deleting comment: ${e}`),null}}))}}r.CommentService=n;const d=new n(i.commentRepositorySQL);r.commentService=d},55250:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.GenreService=r.genreService=void 0;const i=t(72997);class n{constructor(e){this.genreRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.genreRepository.getById(e)}catch(e){return console.error(`Error getting genre by id: ${e}`),null}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{return yield this.genreRepository.getByName(e)}catch(e){return console.error(`Error getting genre by name: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.genreRepository.getAll()}catch(e){return console.error(`Error getting all genres: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.genreRepository.add(e)}catch(e){return console.error(`Error adding genre: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.genreRepository.update(e,r)}catch(e){return console.error(`Error updating genre: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.genreRepository.delete(e)}catch(e){return console.error(`Error deleting genre: ${e}`),null}}))}}r.GenreService=n;const d=new n(i.genreRepositorySQL);r.genreService=d},97629:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.MovieService=r.movieService=void 0;const i=t(94241);class n{constructor(e){this.movieRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRepository.getById(e)}catch(e){return console.error(`Error getting movie by id: ${e}`),null}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRepository.getByName(e)}catch(e){return console.error(`Error getting movie by name: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{const e=yield this.movieRepository.getAll();if(!e)return null;const r=new Date,t=new Date;t.setMonth(t.getMonth()-1);const o=new Date;o.setFullYear(o.getFullYear()-1);const i={upcoming:[],lastMonth:[],lastYear:[],other:[]};return e.forEach((e=>{const n=new Date(e.release);n>r?i.upcoming.push(e):n>t?i.lastMonth.push(e):n>o?i.lastYear.push(e):i.other.push(e)})),i}catch(e){return console.error(`Error getting all movies: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRepository.add(e)}catch(e){return console.error(`Error adding movie: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.movieRepository.update(e,r)}catch(e){return console.error(`Error updating movie: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.movieRepository.delete(e)}catch(e){return console.error(`Error deleting movie: ${e}`),null}}))}}r.MovieService=n;const d=new n(i.movieRepositorySQL);r.movieService=d},61941:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.ParticipantService=r.participantService=void 0;const i=t(50181);class n{constructor(e){this.participantRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.participantRepository.getById(e)}catch(e){return console.error(`Error getting participant by id: ${e}`),null}}))}getByNameSurname(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.participantRepository.getByNameSurname(e,r)}catch(e){return console.error(`Error getting participant by name and surname: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.participantRepository.getAll()}catch(e){return console.error(`Error getting all participants: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.participantRepository.add(e)}catch(e){return console.error(`Error adding participant: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.participantRepository.update(e,r)}catch(e){return console.error(`Error updating participant: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.participantRepository.delete(e)}catch(e){return console.error(`Error deleting participant: ${e}`),null}}))}}r.ParticipantService=n;const d=new n(i.participantRepositorySQL);r.participantService=d},69812:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.MovieGenreService=r.movieGenreService=void 0;const i=t(73860);class n{constructor(e){this.movieGenreRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieGenreRepository.getById(e)}catch(e){return console.error(`Error getting movieGenre by id: ${e}`),null}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieGenreRepository.getByMovieId(e)}catch(e){return console.error(`Error getting movieGenres by movie_id: ${e}`),null}}))}getByGenreId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieGenreRepository.getByGenreId(e)}catch(e){return console.error(`Error getting movieGenres by genre_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.movieGenreRepository.getAll()}catch(e){return console.error(`Error getting all movieGenres: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieGenreRepository.add(e)}catch(e){return console.error(`Error adding movieGenre: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.movieGenreRepository.delete(e)}catch(e){return console.error(`Error deleting movieGenre: ${e}`),null}}))}}r.MovieGenreService=n;const d=new n(i.movieGenreRepositorySQL);r.movieGenreService=d},49734:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.MovieParticipantService=r.movieParticipantService=void 0;const i=t(49102);class n{constructor(e){this.movieParticipantRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieParticipantRepository.getById(e)}catch(e){return console.error(`Error getting movieParticipant by id: ${e}`),null}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieParticipantRepository.getByMovieId(e)}catch(e){return console.error(`Error getting movieParticipants by movie_id: ${e}`),null}}))}getByParticipantId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieParticipantRepository.getByParticipantId(e)}catch(e){return console.error(`Error getting movieParticipants by participant_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.movieParticipantRepository.getAll()}catch(e){return console.error(`Error getting all movieParticipants: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieParticipantRepository.add(e)}catch(e){return console.error(`Error adding movieParticipant: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.movieParticipantRepository.update(e,r)}catch(e){return console.error(`Error updating movieParticipant: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.movieParticipantRepository.delete(e)}catch(e){return console.error(`Error deleting movieParticipant: ${e}`),null}}))}}r.MovieParticipantService=n;const d=new n(i.movieParticipantRepositorySQL);r.movieParticipantService=d},63040:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.MovieRewardService=r.movieRewardService=void 0;const i=t(26360);class n{constructor(e){this.movieRewardRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRewardRepository.getById(e)}catch(e){return console.error(`Error getting movieReward by id: ${e}`),null}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRewardRepository.getByMovieId(e)}catch(e){return console.error(`Error getting movieRewards by movie_id: ${e}`),null}}))}getByRewardId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRewardRepository.getByRewardId(e)}catch(e){return console.error(`Error getting movieRewards by reward_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.movieRewardRepository.getAll()}catch(e){return console.error(`Error getting all movieRewards: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieRewardRepository.add(e)}catch(e){return console.error(`Error adding movieReward: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.movieRewardRepository.delete(e)}catch(e){return console.error(`Error deleting movieReward: ${e}`),null}}))}}r.MovieRewardService=n;const d=new n(i.movieRewardRepositorySQL);r.movieRewardService=d},20949:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.MovieStudioService=r.movieStudioService=void 0;const i=t(97761);class n{constructor(e){this.movieStudioRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieStudioRepository.getById(e)}catch(e){return console.error(`Error getting movieStudio by id: ${e}`),null}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieStudioRepository.getByMovieId(e)}catch(e){return console.error(`Error getting movieStudios by movie_id: ${e}`),null}}))}getByStudioId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieStudioRepository.getByStudioId(e)}catch(e){return console.error(`Error getting movieStudios by studio_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.movieStudioRepository.getAll()}catch(e){return console.error(`Error getting all movieStudios: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieStudioRepository.add(e)}catch(e){return console.error(`Error adding movieStudio: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.movieStudioRepository.delete(e)}catch(e){return console.error(`Error deleting movieStudio: ${e}`),null}}))}}r.MovieStudioService=n;const d=new n(i.movieStudioRepositorySQL);r.movieStudioService=d},39088:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.MovieUserService=r.movieUserService=void 0;const i=t(77608);class n{constructor(e){this.movieUserRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieUserRepository.getById(e)}catch(e){return console.error(`Error getting movieUser by id: ${e}`),null}}))}getByMovieId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieUserRepository.getByMovieId(e)}catch(e){return console.error(`Error getting movieUsers by movie_id: ${e}`),null}}))}getByUserId(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieUserRepository.getByUserId(e)}catch(e){return console.error(`Error getting movieUsers by user_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.movieUserRepository.getAll()}catch(e){return console.error(`Error getting all movieUsers: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.movieUserRepository.add(e)}catch(e){return console.error(`Error adding movieUser: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.movieUserRepository.update(e,r)}catch(e){return console.error(`Error updating movieUser: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.movieUserRepository.delete(e)}catch(e){return console.error(`Error deleting movieUser: ${e}`),null}}))}getMarks(e){return o(this,void 0,void 0,(function*(){try{const r=yield this.movieUserRepository.getByMovieId(e);if(!r||0===r.length)return null;const t=r.filter((e=>e.mark)).length;return t/r.length*100}catch(e){return console.error(`Error getting marks movie: ${e}`),null}}))}}r.MovieUserService=n;const d=new n(i.movieUserRepositorySQL);r.movieUserService=d},36045:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.ParticipantRewardService=r.participantRewardService=void 0;const i=t(57577);class n{constructor(e){this.participantRewardRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.participantRewardRepository.getById(e)}catch(e){return console.error(`Error getting participantReward by id: ${e}`),null}}))}getByParticipantId(e){return o(this,void 0,void 0,(function*(){try{return yield this.participantRewardRepository.getByParticipantId(e)}catch(e){return console.error(`Error getting participantRewards by participant_id: ${e}`),null}}))}getByRewardId(e){return o(this,void 0,void 0,(function*(){try{return yield this.participantRewardRepository.getByRewardId(e)}catch(e){return console.error(`Error getting participantRewards by reward_id: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.participantRewardRepository.getAll()}catch(e){return console.error(`Error getting all participantRewards: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.participantRewardRepository.add(e)}catch(e){return console.error(`Error adding participantReward: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.participantRewardRepository.delete(e)}catch(e){return console.error(`Error deleting participantReward: ${e}`),null}}))}}r.ParticipantRewardService=n;const d=new n(i.participantRewardRepositorySQL);r.participantRewardService=d},46241:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardService=r.rewardService=void 0;const i=t(95353);class n{constructor(e){this.rewardRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.rewardRepository.getById(e)}catch(e){return console.error(`Error getting reward by id: ${e}`),null}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{return yield this.rewardRepository.getByName(e)}catch(e){return console.error(`Error getting reward by name: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.rewardRepository.getAll()}catch(e){return console.error(`Error getting all rewards: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.rewardRepository.add(e)}catch(e){return console.error(`Error adding reward: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.rewardRepository.update(e,r)}catch(e){return console.error(`Error updating reward: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.rewardRepository.delete(e)}catch(e){return console.error(`Error deleting reward: ${e}`),null}}))}}r.RewardService=n;const d=new n(i.rewardRepositorySQL);r.rewardService=d},37039:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.StudioService=r.studioService=void 0;const i=t(48403);class n{constructor(e){this.studioRepository=e}getById(e){return o(this,void 0,void 0,(function*(){try{return yield this.studioRepository.getById(e)}catch(e){return console.error(`Error getting studio by id: ${e}`),null}}))}getByName(e){return o(this,void 0,void 0,(function*(){try{return yield this.studioRepository.getByName(e)}catch(e){return console.error(`Error getting studio by name: ${e}`),null}}))}getAll(){return o(this,void 0,void 0,(function*(){try{return yield this.studioRepository.getAll()}catch(e){return console.error(`Error getting all studios: ${e}`),null}}))}add(e){return o(this,void 0,void 0,(function*(){try{return yield this.studioRepository.add(e)}catch(e){return console.error(`Error adding studio: ${e}`),null}}))}update(e,r){return o(this,void 0,void 0,(function*(){try{return yield this.studioRepository.update(e,r)}catch(e){return console.error(`Error updating studio: ${e}`),null}}))}delete(e){return o(this,void 0,void 0,(function*(){try{yield this.studioRepository.delete(e)}catch(e){return console.error(`Error deleting studio: ${e}`),null}}))}}r.StudioService=n;const d=new n(i.studioRepositorySQL);r.studioService=d},86349:function(e,r,t){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,o,i)}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&o(r,e,t);return i(r,e),r},d=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.UserService=r.userService=void 0;const c=t(17772),s=t(21445),u=n(t(17871)),l=n(t(44040));a(t(80998)).default.config();class v{constructor(e){this.userRepository=e}getById(e){return d(this,void 0,void 0,(function*(){try{return yield this.userRepository.getById(e)}catch(e){return console.error(`Error getting user by id: ${e}`),null}}))}getByLogin(e){return d(this,void 0,void 0,(function*(){try{return yield this.userRepository.getByLogin(e)}catch(e){return console.error(`Error getting user by login: ${e}`),null}}))}getAll(){return d(this,void 0,void 0,(function*(){try{return yield this.userRepository.getAll()}catch(e){return console.error(`Error getting all users: ${e}`),null}}))}registration(e){return d(this,void 0,void 0,(function*(){try{if(yield this.userRepository.getByLogin(e.login))throw new Error("Such user already exists");const r=yield u.hash(e.password,10),t=new c.UserDto(e.name,e.surname),o=new c.AddUserDto(t,e.registration,e.login,r,e.role),i=yield this.userRepository.add(o);return this.generateJwt(i.id,i.login,i.role)}catch(e){return console.error(`Error registration user: ${e}`),null}}))}login(e,r){return d(this,void 0,void 0,(function*(){try{const t=yield this.userRepository.getByLogin(e);if(!t)throw new Error("No such user registered");if(!u.compareSync(r,t.password))throw new Error("Invalid password");return this.generateJwt(t.id,t.login,t.role)}catch(e){return console.error(`Error adding user: ${e}`),null}}))}update(e,r){return d(this,void 0,void 0,(function*(){try{return yield this.userRepository.update(e,r)}catch(e){return console.error(`Error updating user: ${e}`),null}}))}delete(e){return d(this,void 0,void 0,(function*(){try{yield this.userRepository.delete(e)}catch(e){return console.error(`Error deleting user: ${e}`),null}}))}generateJwt(e,r,t){return l.sign({id:e,login:r,role:t},process.env.SECRET_KEY,{expiresIn:"24h"})}}r.UserService=v;const h=new v(s.userRepositorySQL);r.userService=h},35822:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(18173),d=t(55740);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.commentService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all comments:",e),t(i.ApiError.internal("Failed to get all comments"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.commentService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("Comment not found"))}catch(e){return console.error("Error occurred while getting comment by ID:",e),t(i.ApiError.internal("Failed to get comment by ID"))}}))}getByMovieId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.commentService.getByMovieId(o);return d?r.json(d):t(i.ApiError.badRequest("Comment not found"))}catch(e){return console.error("Error occurred while getting comment by movie_id:",e),t(i.ApiError.internal("Failed to get comment by movie_id"))}}))}getByUserId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.commentService.getByUserId(o);return d?r.json(d):t(i.ApiError.badRequest("Comment not found"))}catch(e){return console.error("Error occurred while getting comment by user_id:",e),t(i.ApiError.internal("Failed to get comment by user_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{content:t,date:o,movie_id:i,user_id:a}=e.body,c=new d.CommentDto(t,o),s=new d.AddCommentDto(c,i,a),u=yield n.commentService.add(s);return r.json(u)}catch(e){return console.error("Error occurred while adding comment:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{content:o,date:i}=e.body,a=new d.CommentDto(o,i),c=new d.UpdateCommentDto(a),s=yield n.commentService.update(c,t);return r.json(s)}catch(e){return console.error("Error occurred while updating comment:",e),t(i.ApiError.internal("Failed to update comment"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.commentService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting comment:",e),t(i.ApiError.internal("Failed to delete comment"))}}))}}},16088:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(55250),d=t(85740);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.genreService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all genres:",e),t(i.ApiError.internal("Failed to get all genres"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.genreService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("Genre not found"))}catch(e){return console.error("Error occurred while getting genre by ID:",e),t(i.ApiError.internal("Failed to get genre by ID"))}}))}getOneByName(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=yield n.genreService.getByName(e.params.name);return o?r.json(o):t(i.ApiError.badRequest("Genre not found"))}catch(e){return console.error("Error occurred while getting genre by name:",e),t(i.ApiError.internal("Failed to get genre by name"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:t,description:o}=e.body,i=new d.GenreDto(t,o),a=new d.AddGenreDto(i),c=yield n.genreService.add(a);return r.json(c)}catch(e){return console.error("Error occurred while adding genre:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{name:o,description:i}=e.body,a=new d.GenreDto(o,i),c=new d.UpdateGenreDto(a),s=yield n.genreService.update(c,t);return r.json(s)}catch(e){return console.error("Error occurred while updating genre:",e),t(i.ApiError.internal("Failed to update genre"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.genreService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting genre:",e),t(i.ApiError.internal("Failed to delete genre"))}}))}}},84655:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(97629),d=t(744);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.movieService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all movies:",e),t(i.ApiError.internal("Failed to get all movies"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("Movie not found"))}catch(e){return console.error("Error occurred while getting movie by ID:",e),t(i.ApiError.internal("Failed to get movie by ID"))}}))}getOneByName(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=yield n.movieService.getByName(e.params.name);return o?r.json(o):t(i.ApiError.badRequest("Movie not found"))}catch(e){return console.error("Error occurred while getting movie by name:",e),t(i.ApiError.internal("Failed to get movie by name"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:t,description:o,country:i,release:a,photo:c,trailer:s}=e.body,u=new d.MovieDto(t,o,i,a,c,s),l=new d.AddMovieDto(u),v=yield n.movieService.add(l);return r.json(v)}catch(e){return console.error("Error occurred while adding movie:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{name:o,description:i,country:a,release:c,photo:s,trailer:u}=e.body,l=new d.MovieDto(o,i,a,c,s,u),v=new d.UpdateMovieDto(l),h=yield n.movieService.update(v,t);return r.json(h)}catch(e){return console.error("Error occurred while updating movie:",e),t(i.ApiError.internal("Failed to update movie"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.movieService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting movie:",e),t(i.ApiError.internal("Failed to delete movie"))}}))}}},73992:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(69812),d=t(94879);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.movieGenreService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all movieGenres:",e),t(i.ApiError.internal("Failed to get all movieGenres"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieGenreService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("MovieGenre not found"))}catch(e){return console.error("Error occurred while getting movieGenre by ID:",e),t(i.ApiError.internal("Failed to get movieGenre by ID"))}}))}getByMovieId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieGenreService.getByMovieId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieGenre not found"))}catch(e){return console.error("Error occurred while getting movieGenre by movie_id:",e),t(i.ApiError.internal("Failed to get movieGenre by movie_id"))}}))}getByGenreId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieGenreService.getByGenreId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieGenre not found"))}catch(e){return console.error("Error occurred while getting movieGenre by genre_id:",e),t(i.ApiError.internal("Failed to get movieGenre by genre_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{movie_id:t,genre_id:o}=e.body,i=new d.MovieGenreDto(t,o),a=new d.AddMovieGenreDto(i),c=yield n.movieGenreService.add(a);return r.json(c)}catch(e){return console.error("Error occurred while adding movieGenre:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.movieGenreService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting movieGenre:",e),t(i.ApiError.internal("Failed to delete movieGenre"))}}))}}},85534:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(49734),d=t(9077);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.movieParticipantService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all movieParticipants:",e),t(i.ApiError.internal("Failed to get all movieParticipants"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieParticipantService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("MovieParticipant not found"))}catch(e){return console.error("Error occurred while getting movieParticipant by ID:",e),t(i.ApiError.internal("Failed to get movieParticipant by ID"))}}))}getByMovieId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieParticipantService.getByMovieId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieParticipant not found"))}catch(e){return console.error("Error occurred while getting movieParticipant by movie_id:",e),t(i.ApiError.internal("Failed to get movieParticipant by movie_id"))}}))}getByParticipantId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieParticipantService.getByParticipantId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieParticipant not found"))}catch(e){return console.error("Error occurred while getting movieParticipant by participant_id:",e),t(i.ApiError.internal("Failed to get movieParticipant by participant_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{movie_id:t,participant_id:o,role:i}=e.body,a=new d.MovieParticipantDto(i),c=new d.AddMovieParticipantDto(a,t,o),s=yield n.movieParticipantService.add(c);return r.json(s)}catch(e){return console.error("Error occurred while adding movieParticipant:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{role:o}=e.body,i=new d.MovieParticipantDto(o),a=new d.UpdateMovieParticipantDto(i),c=yield n.movieParticipantService.update(a,t);return r.json(c)}catch(e){return console.error("Error occurred while updating movieParticipant:",e),t(i.ApiError.internal("Failed to update movieParticipant"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.movieParticipantService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting movieParticipant:",e),t(i.ApiError.internal("Failed to delete movieParticipant"))}}))}}},62372:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(63040),d=t(28451);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.movieRewardService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all movieRewards:",e),t(i.ApiError.internal("Failed to get all movieRewards"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieRewardService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("MovieReward not found"))}catch(e){return console.error("Error occurred while getting movieReward by ID:",e),t(i.ApiError.internal("Failed to get movieReward by ID"))}}))}getByMovieId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieRewardService.getByMovieId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieReward not found"))}catch(e){return console.error("Error occurred while getting movieReward by movie_id:",e),t(i.ApiError.internal("Failed to get movieReward by movie_id"))}}))}getByRewardId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieRewardService.getByRewardId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieReward not found"))}catch(e){return console.error("Error occurred while getting movieReward by reward_id:",e),t(i.ApiError.internal("Failed to get movieReward by reward_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{movie_id:t,reward_id:o}=e.body,i=new d.MovieRewardDto(t,o),a=new d.AddMovieRewardDto(i),c=yield n.movieRewardService.add(a);return r.json(c)}catch(e){return console.error("Error occurred while adding movieReward:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.movieRewardService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting movieReward:",e),t(i.ApiError.internal("Failed to delete movieReward"))}}))}}},74357:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(20949),d=t(17384);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.movieStudioService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all movieStudios:",e),t(i.ApiError.internal("Failed to get all movieStudios"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieStudioService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("MovieStudio not found"))}catch(e){return console.error("Error occurred while getting movieStudio by ID:",e),t(i.ApiError.internal("Failed to get movieStudio by ID"))}}))}getByMovieId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieStudioService.getByMovieId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieStudio not found"))}catch(e){return console.error("Error occurred while getting movieStudio by movie_id:",e),t(i.ApiError.internal("Failed to get movieStudio by movie_id"))}}))}getByStudioId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieStudioService.getByStudioId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieStudio not found"))}catch(e){return console.error("Error occurred while getting movieStudio by studio_id:",e),t(i.ApiError.internal("Failed to get movieStudio by studio_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{movie_id:t,studio_id:o}=e.body,i=new d.MovieStudioDto(t,o),a=new d.AddMovieStudioDto(i),c=yield n.movieStudioService.add(a);return r.json(c)}catch(e){return console.error("Error occurred while adding movieStudio:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.movieStudioService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting movieStudio:",e),t(i.ApiError.internal("Failed to delete movieStudio"))}}))}}},75316:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(39088),d=t(25139);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.movieUserService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all movieUsers:",e),t(i.ApiError.internal("Failed to get all movieUsers"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieUserService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("MovieUser not found"))}catch(e){return console.error("Error occurred while getting movieUser by ID:",e),t(i.ApiError.internal("Failed to get movieUser by ID"))}}))}getByMovieId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieUserService.getByMovieId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieUser not found"))}catch(e){return console.error("Error occurred while getting movieUser by movie_id:",e),t(i.ApiError.internal("Failed to get movieUser by movie_id"))}}))}getByUserId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.movieUserService.getByUserId(o);return d?r.json(d):t(i.ApiError.badRequest("MovieUser not found"))}catch(e){return console.error("Error occurred while getting movieUser by user_id:",e),t(i.ApiError.internal("Failed to get movieUser by user_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{movie_id:t,user_id:o,mark:i}=e.body,a=new d.MovieUserDto(i),c=new d.AddMovieUserDto(a,t,o),s=yield n.movieUserService.add(c);return r.json(s)}catch(e){return console.error("Error occurred while adding movieUser:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{mark:o}=e.body,i=new d.MovieUserDto(o),a=new d.UpdateMovieUserDto(i),c=yield n.movieUserService.update(a,t);return r.json(c)}catch(e){return console.error("Error occurred while updating movieUser:",e),t(i.ApiError.internal("Failed to update movieUser"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.movieUserService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting movieUser:",e),t(i.ApiError.internal("Failed to delete movieUser"))}}))}}},78606:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(61941),d=t(75820);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.participantService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all participants:",e),t(i.ApiError.internal("Failed to get all participants"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.participantService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("Participant not found"))}catch(e){return console.error("Error occurred while getting participant by ID:",e),t(i.ApiError.internal("Failed to get participant by ID"))}}))}getOneByNameSurname(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:o,surname:d}=e.params,a=yield n.participantService.getByNameSurname(o,d);return a?r.json(a):t(i.ApiError.badRequest("Participant not found"))}catch(e){return console.error("Error occurred while getting participant by name and surname:",e),t(i.ApiError.internal("Failed to get participant by name and surname"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:t,surname:o,birth:i,death:a,photo:c}=e.body,s=new d.ParticipantDto(t,o,i,a,c),u=new d.AddParticipantDto(s),l=yield n.participantService.add(u);return r.json(l)}catch(e){return console.error("Error occurred while adding participant:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{name:o,surname:i,birth:a,death:c,photo:s}=e.body,u=new d.ParticipantDto(o,i,a,c,s),l=new d.UpdateParticipantDto(u),v=yield n.participantService.update(l,t);return r.json(v)}catch(e){return console.error("Error occurred while updating participant:",e),t(i.ApiError.internal("Failed to update participant"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.participantService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting participant:",e),t(i.ApiError.internal("Failed to delete participant"))}}))}}},36986:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(36045),d=t(87536);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.participantRewardService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all participantRewards:",e),t(i.ApiError.internal("Failed to get all participantRewards"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.participantRewardService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("ParticipantReward not found"))}catch(e){return console.error("Error occurred while getting participantReward by ID:",e),t(i.ApiError.internal("Failed to get participantReward by ID"))}}))}getByParticipantId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.participantRewardService.getByParticipantId(o);return d?r.json(d):t(i.ApiError.badRequest("ParticipantReward not found"))}catch(e){return console.error("Error occurred while getting participantReward by participant_id:",e),t(i.ApiError.internal("Failed to get participantReward by participant_id"))}}))}getByRewardId(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.participantRewardService.getByRewardId(o);return d?r.json(d):t(i.ApiError.badRequest("ParticipantReward not found"))}catch(e){return console.error("Error occurred while getting participantReward by reward_id:",e),t(i.ApiError.internal("Failed to get participantReward by reward_id"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{participant_id:t,reward_id:o}=e.body,i=new d.ParticipantRewardDto(t,o),a=new d.AddParticipantRewardDto(i),c=yield n.participantRewardService.add(a);return r.json(c)}catch(e){return console.error("Error occurred while adding participantReward:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.participantRewardService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting participantReward:",e),t(i.ApiError.internal("Failed to delete participantReward"))}}))}}},94420:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(46241),d=t(26304);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.rewardService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all rewards:",e),t(i.ApiError.internal("Failed to get all rewards"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.rewardService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("Reward not found"))}catch(e){return console.error("Error occurred while getting reward by ID:",e),t(i.ApiError.internal("Failed to get reward by ID"))}}))}getOneByName(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=yield n.rewardService.getByName(e.params.name);return o?r.json(o):t(i.ApiError.badRequest("Reward not found"))}catch(e){return console.error("Error occurred while getting reward by name:",e),t(i.ApiError.internal("Failed to get reward by name"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:t,description:o,photo:i}=e.body,a=new d.RewardDto(t,o,i),c=new d.AddRewardDto(a),s=yield n.rewardService.add(c);return r.json(s)}catch(e){return console.error("Error occurred while adding reward:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{name:o,description:i,photo:a}=e.body,c=new d.RewardDto(o,i,a),s=new d.UpdateRewardDto(c),u=yield n.rewardService.update(s,t);return r.json(u)}catch(e){return console.error("Error occurred while updating reward:",e),t(i.ApiError.internal("Failed to update reward"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.rewardService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting reward:",e),t(i.ApiError.internal("Failed to delete reward"))}}))}}},12293:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(37039),d=t(79302);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.studioService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all studios:",e),t(i.ApiError.internal("Failed to get all studios"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.studioService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("Studio not found"))}catch(e){return console.error("Error occurred while getting studio by ID:",e),t(i.ApiError.internal("Failed to get studio by ID"))}}))}getOneByName(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=yield n.studioService.getByName(e.params.name);return o?r.json(o):t(i.ApiError.badRequest("Studio not found"))}catch(e){return console.error("Error occurred while getting studio by name:",e),t(i.ApiError.internal("Failed to get studio by name"))}}))}create(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:t,founder:o,country:i,foundation:a,photo:c}=e.body,s=new d.StudioDto(t,o,i,a,c),u=new d.AddStudioDto(s),l=yield n.studioService.add(u);return r.json(l)}catch(e){return console.error("Error occurred while adding studio:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{name:o,founder:i,country:a,foundation:c,photo:s}=e.body,u=new d.StudioDto(o,i,a,c,s),l=new d.UpdateStudioDto(u),v=yield n.studioService.update(l,t);return r.json(v)}catch(e){return console.error("Error occurred while updating studio:",e),t(i.ApiError.internal("Failed to update studio"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.studioService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting studio:",e),t(i.ApiError.internal("Failed to delete studio"))}}))}}},3492:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))((function(i,n){function d(e){try{c(o.next(e))}catch(e){n(e)}}function a(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(d,a)}c((o=o.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t(37112),n=t(86349),d=t(17772);r.default=new class{getAll(e,r,t){return o(this,void 0,void 0,(function*(){try{const e=yield n.userService.getAll();return r.json(e)}catch(e){return console.error("Error occurred while getting all users:",e),t(i.ApiError.internal("Failed to get all users"))}}))}getOneById(e,r,t){return o(this,void 0,void 0,(function*(){try{const o=parseInt(e.params.id),d=yield n.userService.getById(o);return d?r.json(d):t(i.ApiError.badRequest("User not found"))}catch(e){return console.error("Error occurred while getting user by ID:",e),t(i.ApiError.internal("Failed to get user by ID"))}}))}registration(e,r,t){return o(this,void 0,void 0,(function*(){try{const{name:t,surname:o,registration:i,login:a,password:c,role:s}=e.body,u=new d.UserDto(t,o),l=new d.AddUserDto(u,i,a,c,s),v=yield n.userService.registration(l);return r.json(v)}catch(e){return console.error("Error occurred while adding user:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}login(e,r,t){return o(this,void 0,void 0,(function*(){try{const{login:t,password:o}=e.body,i=yield n.userService.login(t,o);return r.json(i)}catch(e){return console.error("Error occurred while login user:",e),t(i.ApiError.badRequest("Incorrect parameters"))}}))}update(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id),{name:o,surname:i}=e.body,a=new d.UserDto(o,i),c=new d.UpdateUserDto(a),s=yield n.userService.update(c,t);return r.json(s)}catch(e){return console.error("Error occurred while updating user:",e),t(i.ApiError.internal("Failed to update user"))}}))}delete(e,r,t){return o(this,void 0,void 0,(function*(){try{const t=parseInt(e.params.id);return yield n.userService.delete(t),r.sendStatus(204)}catch(e){return console.error("Error occurred while deleting user:",e),t(i.ApiError.internal("Failed to delete user"))}}))}check(e,r,t){return o(this,void 0,void 0,(function*(){const{id:t,login:o,role:i}=e.user,d=n.userService.generateJwt(t,o,i);return r.json(d)}))}}},53790:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sequelize=void 0;const i=t(45225);o(t(80998)).default.config(),r.sequelize=new i.Sequelize(process.env.DB_NAME,process.env.DB_USER,process.env.DB_PASSWORD,{dialect:"postgres",host:process.env.DB_HOST,port:process.env.DB_PORT?parseInt(process.env.DB_PORT):5432})},81395:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParticipantRewardDB=r.MovieUserDB=r.MovieStudioDB=r.MovieRewardDB=r.MovieParticipantDB=r.MovieGenreDB=r.CommentDB=r.UserDB=r.GenreDB=r.RewardDB=r.StudioDB=r.ParticipantDB=r.MovieDB=void 0;const o=t(53790),{DataTypes:i}=t(45225),n=o.sequelize.define("comment",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},content:{type:i.STRING,allowNull:!1},date:{type:i.DATE,allowNull:!1},movie_id:{type:i.INTEGER,allowNull:!1,references:{model:"movies",key:"id"}},user_id:{type:i.INTEGER,allowNull:!1,references:{model:"users",key:"id"}}});r.CommentDB=n;const d=o.sequelize.define("genre",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},name:{type:i.STRING,allowNull:!1,unique:!0},description:{type:i.STRING,allowNull:!1}});r.GenreDB=d;const a=o.sequelize.define("movie",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},name:{type:i.STRING,allowNull:!1,unique:!0},description:{type:i.STRING,allowNull:!1},country:{type:i.STRING,allowNull:!1},release:{type:i.DATE,allowNull:!1},photo:{type:i.STRING,allowNull:!1},trailer:{type:i.STRING,allowNull:!1}});r.MovieDB=a;const c=o.sequelize.define("participant",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},name:{type:i.STRING,allowNull:!1},surname:{type:i.STRING,allowNull:!1},birth:{type:i.DATE,allowNull:!1},death:{type:i.DATE,allowNull:!0},photo:{type:i.STRING,allowNull:!1}},{indexes:[{unique:!0,fields:["name","surname"]}]});r.ParticipantDB=c;const s=o.sequelize.define("reward",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},name:{type:i.STRING,allowNull:!1,unique:!0},description:{type:i.STRING,allowNull:!1},photo:{type:i.STRING,allowNull:!1}});r.RewardDB=s;const u=o.sequelize.define("studio",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},name:{type:i.STRING,allowNull:!1,unique:!0},founder:{type:i.STRING,allowNull:!1},country:{type:i.STRING,allowNull:!1},foundation:{type:i.DATE,allowNull:!1},photo:{type:i.STRING,allowNull:!1}});r.StudioDB=u;const l=o.sequelize.define("user",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},name:{type:i.STRING,allowNull:!1},surname:{type:i.STRING,allowNull:!1},registration:{type:i.DATE,allowNull:!1},login:{type:i.STRING,allowNull:!1,unique:!0},password:{type:i.STRING,allowNull:!1},role:{type:i.STRING,allowNull:!1,defaultValue:"USER"}});r.UserDB=l;const v=o.sequelize.define("movie_genre",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},movie_id:{type:i.INTEGER,allowNull:!1,references:{model:"movies",key:"id"}},genre_id:{type:i.INTEGER,allowNull:!1,references:{model:"genres",key:"id"}}});r.MovieGenreDB=v;const h=o.sequelize.define("movie_participant",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},movie_id:{type:i.INTEGER,allowNull:!1,references:{model:"movies",key:"id"}},participant_id:{type:i.INTEGER,allowNull:!1,references:{model:"participants",key:"id"}},role:{type:i.STRING,allowNull:!1}});r.MovieParticipantDB=h;const p=o.sequelize.define("movie_reward",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},movie_id:{type:i.INTEGER,allowNull:!1,references:{model:"movies",key:"id"}},reward_id:{type:i.INTEGER,allowNull:!1,references:{model:"rewards",key:"id"}}});r.MovieRewardDB=p;const y=o.sequelize.define("movie_studio",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},movie_id:{type:i.INTEGER,allowNull:!1,references:{model:"movies",key:"id"}},studio_id:{type:i.INTEGER,allowNull:!1,references:{model:"studios",key:"id"}}});r.MovieStudioDB=y;const f=o.sequelize.define("movie_user",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},movie_id:{type:i.INTEGER,allowNull:!1,references:{model:"movies",key:"id"}},user_id:{type:i.INTEGER,allowNull:!1,references:{model:"users",key:"id"}},mark:{type:i.BOOLEAN,allowNull:!1}});r.MovieUserDB=f;const m=o.sequelize.define("participant_reward",{id:{type:i.INTEGER,primaryKey:!0,autoIncrement:!0},participant_id:{type:i.INTEGER,allowNull:!1,references:{model:"participants",key:"id"}},reward_id:{type:i.INTEGER,allowNull:!1,references:{model:"rewards",key:"id"}}});r.ParticipantRewardDB=m,a.belongsToMany(u,{through:y}),u.belongsToMany(a,{through:y}),a.belongsToMany(c,{through:h}),c.belongsToMany(a,{through:h}),a.belongsToMany(s,{through:p}),s.belongsToMany(a,{through:p}),a.belongsToMany(d,{through:v}),d.belongsToMany(a,{through:v}),a.belongsToMany(l,{through:f}),l.belongsToMany(a,{through:f}),c.belongsToMany(s,{through:m}),s.belongsToMany(c,{through:m}),a.hasMany(n),n.belongsTo(a,{foreignKey:"movie_id"}),l.hasMany(n),n.belongsTo(l,{foreignKey:"user_id"})},37112:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApiError=void 0;class t extends Error{constructor(e,r){super(),this.status=e,this.message=r}static badRequest(e){return new t(404,e)}static internal(e){return new t(500,e)}static forbidden(e){return new t(403,e)}}r.ApiError=t},47389:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorHandling=void 0;const o=t(37112);r.errorHandling=function(e,r,t,i){return e instanceof o.ApiError?t.status(e.status).json({message:e.message}):t.status(500).json({message:"Unknown error"})}},64802:function(e,r,t){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,o,i)}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&o(r,e,t);return i(r,e),r},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.authHandling=void 0;const a=n(t(44040));d(t(80998)).default.config(),r.authHandling=function(e,r,t){var o;"OPTIONS"===e.method&&t();try{const i=null===(o=e.headers)||void 0===o?void 0:o.authorization;if(!i)return r.status(401).json({message:"Not authorized"});const n=i.split(" ")[1];if(!n)return r.status(401).json({message:"Not authorized"});const d=a.verify(n,process.env.SECRET_KEY);e.user=d,t()}catch(e){r.status(401).json({message:"Not authorized"})}}},29542:function(e,r,t){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&!("get"in i?!r.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,o,i)}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&o(r,e,t);return i(r,e),r},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.checkRoleHandling=void 0;const a=n(t(44040));d(t(80998)).default.config(),r.checkRoleHandling=function(e){return function(r,t,o){"OPTIONS"===r.method&&o();try{const i=r.headers.authorization;if(!i)return t.status(401).json({message:"Not authorized"});const n=i.split(" ")[1];if(!n)return t.status(401).json({message:"Not authorized"});const d=a.verify(n,process.env.SECRET_KEY);if(!d||"string"==typeof d)throw new Error("Invalid token");if(d.role!==e)return t.status(403).json({message:"No access"});r.user=d,o()}catch(e){t.status(401).json({message:"Not authorized"})}}}},27744:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(35822)),d=t(64802),a=(0,i.Router)();a.post("/",d.authHandling,n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/movie/:id",n.default.getByMovieId),a.get("/user/:id",n.default.getByUserId),a.put("/:id",d.authHandling,n.default.update),a.delete("/:id",d.authHandling,n.default.delete),r.default=a},50982:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(16088)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/name/:name",n.default.getOneByName),a.put("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.update),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},23720:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.router=void 0;const i=t(26083),n=o(t(24801)),d=o(t(50982)),a=o(t(6848)),c=o(t(27744)),s=o(t(78176)),u=o(t(46081)),l=o(t(91484)),v=o(t(38056)),h=o(t(48962)),p=o(t(68790)),y=o(t(58043)),f=o(t(89398)),m=o(t(60967)),w=(0,i.Router)();r.router=w,w.use("/movie",n.default),w.use("/genre",d.default),w.use("/participant",a.default),w.use("/comment",c.default),w.use("/reward",s.default),w.use("/studio",u.default),w.use("/user",l.default),w.use("/moviegenre",v.default),w.use("/movieparticipant",h.default),w.use("/moviereward",p.default),w.use("/moviestudio",y.default),w.use("/movieuser",f.default),w.use("/participantreward",m.default)},38056:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(73992)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/movie/:id",n.default.getByMovieId),a.get("/genre/:id",n.default.getByGenreId),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},48962:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(85534)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/movie/:id",n.default.getByMovieId),a.get("/participant/:id",n.default.getByParticipantId),a.put("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.update),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},68790:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(62372)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/movie/:id",n.default.getByMovieId),a.get("/reward/:id",n.default.getByRewardId),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},24801:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(84655)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/name/:name",n.default.getOneByName),a.put("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.update),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},58043:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(74357)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/movie/:id",n.default.getByMovieId),a.get("/studio/:id",n.default.getByStudioId),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},89398:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(75316)),d=t(29542),a=t(64802),c=(0,i.Router)();c.post("/",a.authHandling,n.default.create),c.get("/",n.default.getAll),c.get("/:id",n.default.getOneById),c.get("/movie/:id",n.default.getByMovieId),c.get("/user/:id",n.default.getByUserId),c.put("/:id",a.authHandling,n.default.update),c.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=c},60967:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(36986)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/participant/:id",n.default.getByParticipantId),a.get("/reward/:id",n.default.getByRewardId),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},6848:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(78606)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/:name/:surname",n.default.getOneByNameSurname),a.put("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.update),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},78176:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(94420)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/name/:name",n.default.getOneByName),a.put("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.update),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},46081:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(12293)),d=t(29542),a=(0,i.Router)();a.post("/",(0,d.checkRoleHandling)("ADMIN"),n.default.create),a.get("/",n.default.getAll),a.get("/:id",n.default.getOneById),a.get("/name/:name",n.default.getOneByName),a.put("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.update),a.delete("/:id",(0,d.checkRoleHandling)("ADMIN"),n.default.delete),r.default=a},91484:function(e,r,t){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=t(26083),n=o(t(3492)),d=t(64802),a=t(29542),c=(0,i.Router)();c.post("/",n.default.registration),c.get("/",(0,a.checkRoleHandling)("ADMIN"),n.default.getAll),c.get("/id/:id",n.default.getOneById),c.get("/auth/",d.authHandling,n.default.check),c.post("/login",n.default.login),c.put("/:id",n.default.update),c.delete("/:id",(0,a.checkRoleHandling)("ADMIN"),n.default.delete),r.default=c},78982:()=>{},47790:()=>{},73776:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},38450:()=>{},66089:()=>{},72016:()=>{},79368:()=>{},50847:()=>{},71004:()=>{},15791:()=>{},61093:()=>{},85775:()=>{},64688:()=>{},85650:()=>{},42634:()=>{},82436:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},47708:()=>{},90216:()=>{}},t={};function o(e){var i=t[e];if(void 0!==i)return i.exports;var n=t[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=r,e=[],o.O=(r,t,i,n)=>{if(!t){var d=1/0;for(u=0;u<e.length;u++){for(var[t,i,n]=e[u],a=!0,c=0;c<t.length;c++)(!1&n||d>=n)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(a=!1,n<d&&(d=n));if(a){e.splice(u--,1);var s=i();void 0!==s&&(r=s)}}return r}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[t,i,n]},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={114:0};o.O.j=r=>0===e[r];var r=(r,t)=>{var i,n,[d,a,c]=t,s=0;if(d.some((r=>0!==e[r]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(c)var u=c(o)}for(r&&r(t);s<d.length;s++)n=d[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},t=self.webpackChunkyour_project_name=self.webpackChunkyour_project_name||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var i=o.O(void 0,[810,850],(()=>o(74105)));i=o.O(i)})();